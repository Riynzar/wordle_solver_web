{% extends "base.html" %}
{% block content %}

<div class="card home-card">
  <h2>Wordle Lab</h2>
  <p class="subtitle">Atur dulu sebelum main ðŸ‘‡</p>

  <div class="home-form">
    <div class="form-row">
      <label>Language</label>
      <select id="lang">
        <option value="english" selected>English</option>
        <option value="indonesia">Indonesian</option>
      </select>
    </div>

    <div class="form-row">
      <label>Word Length</label>
      <select id="len">
        <option value="4">4 Letters</option>
        <option value="5" selected>5 Letters</option>
        <option value="6">6 Letters</option>
      </select>
    </div>

    <div class="form-row">
      <label>Mode</label>
      <!-- Grid akan diperbaiki di CSS agar 50:50 -->
      <div class="segmented" role="tablist" aria-label="Mode">
        <button class="seg-btn active" data-mode="play" type="button">ðŸŽ® Wordle</button>
        <button class="seg-btn" data-mode="solve" type="button">ðŸ§© Solver</button>
      </div>
    </div>

    <button class="btn btn-primary btn-full" id="startBtn">Mainkan sekarang</button>
    <!-- Teks tip dihapus agar bersih -->
  </div>
</div>

<script>
  let selectedMode = "play";

  document.querySelectorAll(".seg-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelectorAll(".seg-btn").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      selectedMode = btn.dataset.mode;
    });
  });

  document.getElementById("startBtn").addEventListener("click", () => {
    const len = document.getElementById("len").value;
    const lang = document.getElementById("lang").value;

    if (selectedMode === "solve") {
      window.location.href = `/solve?len=${len}&lang=${lang}`;
    } else {
      window.location.href = `/play?len=${len}&lang=${lang}`;
    }
  });
</script>

{% endblock %}